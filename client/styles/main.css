@import "tailwindcss";
@plugin "@tailwindcss/typography";
@import "katex/dist/katex.min.css";

@theme {
    --color-accent: #2563eb;
    --color-success: #059669;
    --color-warning: #d97706;
    --color-danger: #dc2626;
}

@layer base {
    body {
        @apply bg-white text-gray-900 font-sans antialiased;
    }

    .dark body {
        @apply bg-gray-900 text-gray-100;
    }
}

@layer components {
    .markdown-body {
        @apply max-w-4xl mx-auto p-8 prose prose-gray prose-lg;
    }

    .dark .markdown-body {
        @apply prose-invert;
    }

    .connection-status {
        @apply fixed top-4 right-4 px-3 py-1.5 rounded-md text-sm font-medium
           shadow-sm transition-all duration-200 z-50;
    }

    .connection-status.connected {
        @apply bg-green-100 text-green-800 border border-green-200;
    }

    .connection-status.disconnected {
        @apply bg-red-100 text-red-800 border border-red-200;
    }

    .connection-status.connecting {
        @apply bg-yellow-100 text-yellow-800 border border-yellow-200;
    }

    .dark .connection-status.connected {
        @apply bg-green-900 text-green-200 border-green-800;
    }

    .dark .connection-status.disconnected {
        @apply bg-red-900 text-red-200 border-red-800;
    }

    .dark .connection-status.connecting {
        @apply bg-yellow-900 text-yellow-200 border-yellow-800;
    }

    .notification {
        @apply fixed inset-0 flex items-center justify-center z-50;
    }

    .notification > div {
        @apply bg-white dark:bg-gray-800 p-6 rounded-lg shadow-xl
           border border-gray-200 dark:border-gray-700 max-w-sm mx-4;
    }
}

@layer utilities {
    .animate-spin-slow {
        animation: spin 2s linear infinite;
    }
}

/* KaTeX math styling */
.katex {
    font-size: 1.05em;
}

.katex-display {
    margin: 1.5em 0;
    text-align: center;
}

.katex-display > .katex {
    display: inline-block;
    white-space: nowrap;
}

/* Math inline styling */
.katex-inline {
    white-space: nowrap;
}

/* Dark mode support for math */
.dark .katex {
    color: inherit;
}

.dark .katex .base {
    color: inherit;
}

/* Ensure math doesn't break line height in prose */
.markdown-body .katex {
    line-height: 1;
}

.markdown-body .katex-display {
    line-height: 1.2;
}
